/* TODO... doesn't work yet */
extern func void* malloc(unsigned int size)

typeclass Ordered<T>:
	/* TODO use bool as return type... */
	func int less(T obj1, T obj2)

instance Ordered<int>:
	func int less(int obj1, int obj2):
		if obj1 < obj2:
			return 1
		return 0

func void quicksort<Ordered T> (T* array, int l, int r):
	if r <= l:
		return
	
	var i <- l-1
	var j <- r

	:loop
	:loop1
	i <- i + 1

	array[j] <- 20
	/*
	if less(array[j], array[j+1]) /= 0:
		return
	*/

func int main():
	var intarr <- cast<int* > malloc(__sizeof<int> * cast<unsigned int> 20)
	quicksort(intarr, 0, 19)
	return 0
